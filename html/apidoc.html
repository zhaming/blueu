<link href="markdown.css" rel="stylesheet"><link href="prettify.css" rel="stylesheet"><script src="prettify.js"></script><h1 id="blueu">BlueU客户端接口文档</h1>
<p>文档版本: <em>v_14-03-22-1</em><br>
接口协议: <em>http</em><br>
报文格式: <em>json</em><br>
报文编码: <em>utf-8</em><br>
正式接口: <em>待发布</em><br>
测试接口: <em>mocky.shifang.info</em>  </p>
<table>
<thead>
<tr>
<th>接口名</th>
<th>地址</th>
<th>类型</th>
<th>接口情况</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#merchant">商户信息</a></td>
<td>/api/merchant</td>
<td>GET</td>
<td>wip</td>
<td>获取商户</td>
</tr>
<tr>
<td><a href="#ad">广告列表</a></td>
<td>/api/ad</td>
<td>GET</td>
<td>wip</td>
<td>获取广告</td>
</tr>
<tr>
<td><a href="#user">提交用户</a></td>
<td>/api/user</td>
<td>PSOT</td>
<td>wip</td>
<td>上传用户</td>
</tr>
</tbody>
</table>
<h2 id="_1">约定</h2>
<p>接口报文默认外层始终有且至少有error_code和error_msg字段, 分别为状态码和状态消息.<br>
1.接口访问正常情况, error_code始终返回0; 错误的时候返回非0, 视服务端情况为准;<br>
2.error_msg字段返回接口访问情况信息, 如果出错, 服务端会返回错误情况, 供客户端酌情使用;<br>
3.如果服务端状态正常,并且需要返回数据, 将数据报文放入data字段, 不需要返回时或访问失败, 服务端不保持该字段;  </p>
<p>示例1, 接口访问成功, 服务端不带数据:<br>
<pre>
{
  "error_code":0,
  "error_msg":"success"
}
</pre></p>
<p>示例2, 接口访问失败:<br>
<pre>
{
  "error_code":101,
  "error_msg":"用户没有权限访问"
}
</pre></p>
<p>示例3, 服务端返回单条数据:<br>
<pre>
{
  "error_code":0,
  "error_msg":"success",
  "data":{
    "id":1
    "name":"name"
  }
}
</pre></p>
<p>示例4, 服务端返回多组数据:<br>
<pre>
{
  "error_code":0,
  "error_msg":"success",
  "data":[{
    "id":1
    "name":"name"
  },{
    "id":2
    "name":"name2"
  }]
}
</pre></p>
<p>示例5, 服务端返回多组字典数据:<br>
<pre>
{
  "error_code":0,
  "error_msg":"success",
  "data":{
      "user":{
        "id":1
        "name":"name"
      },
      "privilege":{
        "id":2
        "name":"name2"
      }
    }
}
</pre></p>
<h2 id="merchant">商户信息</h2>
<p>地址：/api/merchant</p>
<h3 id="_2">接口输入</h3>
<p>提交方式：GET</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>必填</th>
<th>类型</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>blueid</td>
<td>是</td>
<td>string</td>
<td>0000000002</td>
<td>BlueU设备识别码</td>
</tr>
</tbody>
</table>
<p>完整参数示例:
<pre>
    curl http://apiserver?blueid=0000000002
</pre></p>
<h3 id="_3">接口输出</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>必有</th>
<th>类型</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>error_code</td>
<td>是</td>
<td>int</td>
<td>见示例</td>
<td>状态码</td>
</tr>
<tr>
<td>error_msg</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>状态消息</td>
</tr>
<tr>
<td>data</td>
<td>是</td>
<td>array</td>
<td>见示例</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data数据说明</h4>
<table>
<thead>
<tr>
<th>参数名</th>
<th>必有</th>
<th>类型</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>商户编号</td>
</tr>
<tr>
<td>name</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>商户名称</td>
</tr>
<tr>
<td>describ</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>店铺描述</td>
</tr>
<tr>
<td>pic</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>店铺图片</td>
</tr>
</tbody>
</table>
<p>示例:<br>
<pre>
{
    "errcode":0,
    "errmsg":"success",
    "data":{
        "id":"2",
        "name":"大蓝咖啡纺织高专店",
        "describ":"大蓝咖啡纺织高专店",
        "pic":"/images/asdasdsadsd.jpg"
    }
}
</pre></p>
<pre>
{
  "error_code":1,
  "error_msg":"设备不存在"
}
</pre>

<h2 id="ad">广告列表</h2>
<p>地址：/api/ad  </p>
<h3 id="_4">接口输入</h3>
<p>提交方式：GET</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>必填</th>
<th>类型</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>merid</td>
<td>是</td>
<td>string</td>
<td>2</td>
<td>商户编号</td>
</tr>
</tbody>
</table>
<p>完整参数示例:
<pre>
    curl http://apiserver?merid=0000000002
</pre></p>
<h3 id="_5">接口输出</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>必有</th>
<th>类型</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>error_code</td>
<td>是</td>
<td>int</td>
<td>见示例</td>
<td>返回数据</td>
</tr>
<tr>
<td>error_msg</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>返回数据</td>
</tr>
<tr>
<td>data</td>
<td>是</td>
<td>array</td>
<td>见示例</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h4 id="data_1">data数据说明</h4>
<table>
<thead>
<tr>
<th>参数名</th>
<th>必有</th>
<th>类型</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>广告编号</td>
</tr>
<tr>
<td>name</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>广告内容</td>
</tr>
<tr>
<td>pic</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>广告图片</td>
</tr>
</tbody>
</table>
<p>示例: 
<pre>
{
    "errcode": 0,
    "errmsg": "success",
    "data": [{
        "id": "1",
        "name": "全场7.5折",
        "pic": "/images/asdasdsdasdasdasd.jpg"
    }, {
        "id": "2",
        "name": "清明买就送",
        "pic": "/images/zxczxczcxcxzx.jpg"
    }]
}
</pre></p>
<h2 id="user">提交用户</h2>
<p>地址：/api/user</p>
<h3 id="_6">接口输入</h3>
<p>提交方式：POST</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>必填</th>
<th>类型</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>blueid</td>
<td>是</td>
<td>string</td>
<td>0000000002</td>
<td>BlueU设备识别码</td>
</tr>
<tr>
<td>name</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>商户名称</td>
</tr>
</tbody>
</table>
<p>完整参数示例:
<pre>
    curl -d "blueid=0000000002&amp;name=test" http://apiserver
</pre></p>
<h3 id="_7">接口输出</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>必有</th>
<th>类型</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>error_code</td>
<td>是</td>
<td>int</td>
<td>见示例</td>
<td>返回数据</td>
</tr>
<tr>
<td>error_msg</td>
<td>是</td>
<td>string</td>
<td>见示例</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<pre>
{
  "error_code":0,
  "error_msg":"success"
}
</pre>